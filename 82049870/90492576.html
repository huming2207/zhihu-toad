<meta name="referrer" content="no-referrer" />
<meta charset="utf-8" />
<b>
	(外部接口升级中，本答案所述功能暂停，公众号恢复初始状态)
</b>
<br>
<br>
<img data-rawheight="600" data-rawwidth="439" src="http://pic1.zhimg.com/50/59486a87f55c37811592ba9cd6221474_b.jpg" class="origin_image zh-lightbox-thumb" width="439" data-original="http://pic1.zhimg.com/50/59486a87f55c37811592ba9cd6221474_r.jpg">
<br>
<br>
之前我的微信公众号 [自动回复] 及 [自定义菜单] 都是基于微信平台设置的， 后来逐渐感觉这样很麻烦且功能有限。
<br>
<br>
像是“回复数字 - 获取文章”这样的基本功能，就得一条条手动设置。更高级一些的自动回复语料库也很难扩展， 无法实现小黄鸡那样的智能效果。
<br>
<br>
再比如插入BGM只能来自QQ音乐，图文也仅限于素材库（默认html样式），这是平台的局限性。
<br>
<br>
于是我就尝试了开发者模式。
<br>
<br>
<br>
微信公众平台提供了指向外部服务器的接口，经过简单的token验证就能通过，支持80端口。
<br>
<br>
目前实现了如下功能： 回复 “
<b>
	我空间站呢
</b>
” 即可获得国际空间站（ISS， 不是ISIS）即时坐标。
<br>
<br>
<img data-rawheight="960" data-rawwidth="640" src="http://pic2.zhimg.com/50/626404c888a486b6c5779d7ddb1a90f5_b.jpg" class="origin_image zh-lightbox-thumb" width="640" data-original="http://pic2.zhimg.com/50/626404c888a486b6c5779d7ddb1a90f5_r.jpg">
<br>
因为空间站实时位置信息是从美国传来的，所以比较慢（须等3-5秒）。回复“我核弹呢”或“我自行车呢”可以得到比较快的响应。
<br>
<br>
<br>
不过微信的“编辑模式”和“开发模式”是互斥的，所以原来的部分功能（如自动回复和菜单）暂时不可用了，后面我会陆续通过开发模式进行补完。
<br>
<br>
功能的实现其实很简单，只要通过接口验证，基于 web.py 框架发送 [GET, POST] 请求，再调用目标API，最后手动解析JSON数据就可以了。
<br>
<br>
<br>
在上一篇Python教程（二）中，我尝试了设置课后题并进行验证来增强教程的互动性和趣味性，但是用公众号的内置自动回复用起来比较奇怪，所以我计划利用外部接口来提升这一块的用户体验，希望能够像CodeAcademy一样。
<br>
<br>
如果“微信公众号二次开发”话题也有需求的话，可以单独造成一个系列教程。近期会推出下一篇Python教程（三），讲“字典”这种数据格式，有兴趣的朋友可以关注我的微信公众号，其他知乎上被和谐的内容也会陆续添加。
<br>
<img data-rawheight="430" data-rawwidth="430" src="http://pic4.zhimg.com/50/13dff9884a30358a5bf711282800d79f_b.jpg" class="origin_image zh-lightbox-thumb" width="430" data-original="http://pic4.zhimg.com/50/13dff9884a30358a5bf711282800d79f_r.jpg">
<br>
另外，昨天刚刚收到微信平台方的邀请开通了“赞赏”功能，这本来是件好事情，但是我却犯了难。
<br>
<br>
我既没有得任何疑难杂症，身边也没有人得疑难杂症需要募捐；我和我老婆都是原装的中国人，也未就读过伊顿公学，平民出身没有公举血统，岳父更不是中央政策研究室的。
<br>
<br>
特别是，由于爱睡懒觉，我并不喜欢清晨的阳光。为了怕你们误会，我特别把原来的签名“天亮了”改成“天黑了”。
<br>
<br>
<br>
所以如果你想要对我的文章进行打赏的话，请自行在心中默默地创造一个高大上、理中客、兼具普世价值和政治正确的理由，比如“给你的全额奖学金”或者“众筹买红色法拉利”等等。
<br>
<br>
欢迎你来。
<br>
<br>
<b>
	(外部接口升级中，本答案所述功能暂停，公众号恢复初始状态)
</b>
